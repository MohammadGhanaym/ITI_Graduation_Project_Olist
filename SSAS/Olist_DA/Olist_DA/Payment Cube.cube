<Cube xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ddl2="http://schemas.microsoft.com/analysisservices/2003/engine/2" xmlns:ddl2_2="http://schemas.microsoft.com/analysisservices/2003/engine/2/2" xmlns:ddl100_100="http://schemas.microsoft.com/analysisservices/2008/engine/100/100" xmlns:ddl200="http://schemas.microsoft.com/analysisservices/2010/engine/200" xmlns:ddl200_200="http://schemas.microsoft.com/analysisservices/2010/engine/200/200" xmlns:ddl300="http://schemas.microsoft.com/analysisservices/2011/engine/300" xmlns:ddl300_300="http://schemas.microsoft.com/analysisservices/2011/engine/300/300" xmlns:ddl400="http://schemas.microsoft.com/analysisservices/2012/engine/400" xmlns:ddl400_400="http://schemas.microsoft.com/analysisservices/2012/engine/400/400" xmlns:ddl500="http://schemas.microsoft.com/analysisservices/2013/engine/500" xmlns:ddl500_500="http://schemas.microsoft.com/analysisservices/2013/engine/500/500" xmlns:dwd="http://schemas.microsoft.com/DataWarehouse/Designer/1.0" dwd:design-time-name="da45ce27-700d-4235-a745-bcef52cce35d" xmlns="http://schemas.microsoft.com/analysisservices/2003/engine">
  <ID>Payment Cube</ID>
  <Name>Payment Cube</Name>
  <CreatedTimestamp>0001-01-01T00:00:00Z</CreatedTimestamp>
  <LastSchemaUpdate>0001-01-01T00:00:00Z</LastSchemaUpdate>
  <Annotations>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:DiagramLayout</Name>
      <Value>
        <dds xmlns="">
          <diagram fontclsid="{0BE35203-8F91-11CE-9DE3-00AA004BB851}" mouseiconclsid="{0BE35204-8F91-11CE-9DE3-00AA004BB851}" defaultlayout="MSDDS.Rectilinear" defaultlineroute="MSDDS.Rectilinear" version="7" nextobject="14" scale="100" pagebreakanchorx="0" pagebreakanchory="0" pagebreaksizex="0" pagebreaksizey="0" scrollleft="-10549" scrolltop="-3113" gridx="150" gridy="150" marginx="5000" marginy="5000" zoom="100" x="35031" y="18098" backcolor="2039583" defaultpersistence="2" PrintPageNumbersMode="3" PrintMarginTop="0" PrintMarginBottom="635" PrintMarginLeft="0" PrintMarginRight="0" marqueeselectionmode="0" mousepointer="0" snaptogrid="0" autotypeannotation="1" showscrollbars="0" viewpagebreaks="0" donotforceconnectorsbehindshapes="1" backpictureclsid="{00000000-0000-0000-0000-000000000000}">
            <font>
              <ddsxmlobjectstreamwrapper binary="01000000900144420100065461686f6d61" />
            </font>
            <mouseicon>
              <ddsxmlobjectstreamwrapper binary="6c74000000000000" />
            </mouseicon>
          </diagram>
          <layoutmanager>
            <ddsxmlobj />
          </layoutmanager>
          <ddscontrol controlprogid="DdsShapes.DdsObjectManagedBridge" tooltip="dim_order_details" left="20" top="5972" logicalid="6" controlid="1" masterid="0" hint1="0" hint2="0" width="4604" height="3149" noresize="0" nomove="0" nodefaultattachpoints="0" autodrag="1" usedefaultiddshape="1" selectable="1" showselectionhandles="1" allownudging="1" isannotation="0" dontautolayout="0" groupcollapsed="0" tabstop="1" visible="1" snaptogrid="0">
            <control>
              <ddsxmlobjectstreaminitwrapper binary="000e0000fc1100004d0c0000" />
            </control>
            <layoutobject>
              <ddsxmlobj>
                <property name="LogicalObject" value="dbo_dim_order_details" vartype="8" />
              </ddsxmlobj>
            </layoutobject>
            <shape groupshapeid="0" groupnode="0" />
          </ddscontrol>
          <ddscontrol controlprogid="DdsShapes.DdsObjectManagedBridge" tooltip="fact_payment" left="390" top="0" logicalid="7" controlid="2" masterid="0" hint1="0" hint2="0" width="3863" height="3572" noresize="0" nomove="0" nodefaultattachpoints="0" autodrag="1" usedefaultiddshape="1" selectable="1" showselectionhandles="1" allownudging="1" isannotation="0" dontautolayout="0" groupcollapsed="0" tabstop="1" visible="1" snaptogrid="0">
            <control>
              <ddsxmlobjectstreaminitwrapper binary="000e0000170f0000f40d0000" />
            </control>
            <layoutobject>
              <ddsxmlobj>
                <property name="LogicalObject" value="dbo_fact_payment" vartype="8" />
              </ddsxmlobj>
            </layoutobject>
            <shape groupshapeid="0" groupnode="0" />
          </ddscontrol>
          <ddscontrol controlprogid="DdsShapes.DdsObjectManagedBridge" tooltip="dim_payment_type" left="6653" top="635" logicalid="8" controlid="3" masterid="0" hint1="0" hint2="0" width="3000" height="2302" noresize="0" nomove="0" nodefaultattachpoints="0" autodrag="1" usedefaultiddshape="1" selectable="1" showselectionhandles="1" allownudging="1" isannotation="0" dontautolayout="0" groupcollapsed="0" tabstop="1" visible="1" snaptogrid="0">
            <control>
              <ddsxmlobjectstreaminitwrapper binary="000e0000b80b0000fe080000" />
            </control>
            <layoutobject>
              <ddsxmlobj>
                <property name="LogicalObject" value="dbo_dim_payment_type" vartype="8" />
              </ddsxmlobj>
            </layoutobject>
            <shape groupshapeid="0" groupnode="0" />
          </ddscontrol>
          <ddscontrol controlprogid="MSDDS.Polyline.080.1" left="3953" top="837" logicalid="12" controlid="7" masterid="0" hint1="0" hint2="0" width="3000" height="799" noresize="0" nomove="0" nodefaultattachpoints="1" autodrag="0" usedefaultiddshape="0" selectable="1" showselectionhandles="0" allownudging="1" isannotation="0" dontautolayout="0" groupcollapsed="0" tabstop="1" visible="1" snaptogrid="0">
            <control>
              <ddsxmlobj>
                <polyline endtypedst="6" endtypesrc="3" usercolor="16448250" linestyle="0" linerender="1" customendtypedstid="0" customendtypesrcid="0" adornsvisible="1" />
              </ddsxmlobj>
            </control>
            <layoutobject>
              <ddsxmlobj>
                <property name="LogicalObject" value="dataSet.Relations[FK__fact_paym__Payme__370627FE]" vartype="8" />
                <property name="Virtual" value="0" vartype="11" />
                <property name="VisibleAP" value="0" vartype="3" />
              </ddsxmlobj>
            </layoutobject>
            <connector lineroutestyle="MSDDS.Rectilinear" sourceid="3" destid="2" sourceattachpoint="10" destattachpoint="19" segmenteditmode="0" bendpointeditmode="0" bendpointvisibility="0" relatedid="0" virtual="0">
              <point x="6653" y="1236" />
              <point x="4253" y="1236" />
            </connector>
          </ddscontrol>
          <ddscontrol controlprogid="MSDDS.Polyline.080.1" left="273" top="3272" logicalid="13" controlid="8" masterid="0" hint1="0" hint2="0" width="799" height="3200" noresize="0" nomove="0" nodefaultattachpoints="1" autodrag="0" usedefaultiddshape="0" selectable="1" showselectionhandles="0" allownudging="1" isannotation="0" dontautolayout="0" groupcollapsed="0" tabstop="1" visible="1" snaptogrid="0">
            <control>
              <ddsxmlobj>
                <polyline endtypedst="6" endtypesrc="3" usercolor="16448250" linestyle="0" linerender="1" customendtypedstid="0" customendtypesrcid="0" adornsvisible="1" />
              </ddsxmlobj>
            </control>
            <layoutobject>
              <ddsxmlobj>
                <property name="LogicalObject" value="dataSet.Relations[FK__fact_paym__Order__361203C5]" vartype="8" />
                <property name="Virtual" value="0" vartype="11" />
                <property name="VisibleAP" value="0" vartype="3" />
              </ddsxmlobj>
            </layoutobject>
            <connector lineroutestyle="MSDDS.Rectilinear" sourceid="1" destid="2" sourceattachpoint="2" destattachpoint="1" segmenteditmode="0" bendpointeditmode="0" bendpointvisibility="0" relatedid="0" virtual="0">
              <point x="672" y="5972" />
              <point x="672" y="4772" />
              <point x="671" y="4772" />
              <point x="671" y="3572" />
            </connector>
          </ddscontrol>
        </dds>
      </Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:ShowFriendlyNames</Name>
      <Value>true</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:ShowRelationshipNames</Name>
      <Value>false</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:UseDiagramDefaultLayout</Name>
      <Value>true</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:DiagramViewPortLeft</Name>
      <Value>-10549</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:DiagramViewPortTop</Name>
      <Value>-3113</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:DiagramBoundingLeft</Name>
      <Value>20</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:DiagramBoundingTop</Name>
      <Value>0</Value>
    </Annotation>
    <Annotation>
      <Name>http://schemas.microsoft.com/DataWarehouse/Designer/1.0:DiagramZoom</Name>
      <Value>100</Value>
    </Annotation>
  </Annotations>
  <LastProcessed>0001-01-01T00:00:00Z</LastProcessed>
  <State>Unprocessed</State>
  <Dimensions>
    <Dimension dwd:design-time-name="34a377c0-0ea9-4139-8047-7c1d7e49f6d9">
      <ID>Dim Order Details 1</ID>
      <Name>Dim Order Details 1</Name>
      <DimensionID>Dim Order Details 1</DimensionID>
      <Attributes>
        <Attribute dwd:design-time-name="bcfa3df4-03bc-44ce-8012-47989ad8f379">
          <AttributeID>Order Details SK</AttributeID>
        </Attribute>
        <Attribute dwd:design-time-name="85978af2-5b14-4f89-aa17-d87cc42c1b4d">
          <AttributeID>Order Status</AttributeID>
        </Attribute>
      </Attributes>
    </Dimension>
    <Dimension dwd:design-time-name="73f53607-ed12-4220-80b0-c43c6bd154fb">
      <ID>Dim Payment Type</ID>
      <Name>Dim Payment Type</Name>
      <DimensionID>Dim Payment Type</DimensionID>
      <Attributes>
        <Attribute dwd:design-time-name="2d05abbf-a701-4bcc-b6b4-28ca5e5455c5">
          <AttributeID>Payment SK</AttributeID>
        </Attribute>
        <Attribute dwd:design-time-name="af75741d-638d-431f-b42f-7e8cf3f93862">
          <AttributeID>Payment Type</AttributeID>
        </Attribute>
        <Attribute dwd:design-time-name="578d31bc-866c-49d1-9b6b-92373b66ccbb">
          <AttributeID>Provider</AttributeID>
        </Attribute>
      </Attributes>
    </Dimension>
  </Dimensions>
  <MeasureGroups>
    <MeasureGroup dwd:design-time-name="6bb33933-bbbe-4c2d-8ebf-c07ecc67251b">
      <ID>Fact Payment</ID>
      <Name>Fact Payment</Name>
      <CreatedTimestamp>0001-01-01T00:00:00Z</CreatedTimestamp>
      <LastSchemaUpdate>0001-01-01T00:00:00Z</LastSchemaUpdate>
      <LastProcessed>0001-01-01T00:00:00Z</LastProcessed>
      <State>Unprocessed</State>
      <Measures>
        <Measure dwd:design-time-name="0d6be64f-91c9-4eb3-8fb6-e19e7ebaedaf">
          <ID>Payment Installments</ID>
          <Name>Payment Installments</Name>
          <Source dwd:design-time-name="b1bdbb64-fb1f-48d3-88c0-0cbae39c0887">
            <DataType>Integer</DataType>
            <Source xsi:type="ColumnBinding" dwd:design-time-name="88601b50-1000-4ac7-9358-71fc4b67ca1c">
              <TableID>dbo_fact_payment</TableID>
              <ColumnID>payment_installments</ColumnID>
            </Source>
          </Source>
        </Measure>
        <Measure dwd:design-time-name="849ea51b-3b19-4ff9-b107-eca8948cecbf">
          <ID>Payment Value</ID>
          <Name>Total Revenue</Name>
          <Source dwd:design-time-name="9e5a3811-c57d-49b9-ac89-b01357849e35">
            <DataType>Double</DataType>
            <Source xsi:type="ColumnBinding" dwd:design-time-name="74698a17-572b-4ab9-ae91-93a2f112774c">
              <TableID>dbo_fact_payment</TableID>
              <ColumnID>payment_value</ColumnID>
            </Source>
          </Source>
        </Measure>
        <Measure dwd:design-time-name="525d72a5-7c49-488d-8400-84e4a23585a1">
          <ID>Fact Payment Count</ID>
          <Name>No Transactions</Name>
          <AggregateFunction>Count</AggregateFunction>
          <Source dwd:design-time-name="b2b61698-9de4-49ce-a600-d6653ac169c3">
            <DataType>Integer</DataType>
            <DataSize>4</DataSize>
            <Source xsi:type="RowBinding" dwd:design-time-name="83c211c1-8bce-4b55-b77b-07fbd228a7fb">
              <TableID>dbo_fact_payment</TableID>
            </Source>
          </Source>
        </Measure>
      </Measures>
      <StorageMode>Molap</StorageMode>
      <ProcessingMode>Regular</ProcessingMode>
      <Dimensions>
        <Dimension xsi:type="RegularMeasureGroupDimension" dwd:design-time-name="99e2cec0-99fc-469e-8a88-b4eb1dea4a39">
          <CubeDimensionID>Dim Order Details 1</CubeDimensionID>
          <Attributes>
            <Attribute dwd:design-time-name="ba35c1d7-b799-404c-81af-355b30275acd">
              <AttributeID>Order Details SK</AttributeID>
              <KeyColumns>
                <KeyColumn dwd:design-time-name="d1eb9ead-55c3-47c5-a673-3daa461ddc06">
                  <DataType>Integer</DataType>
                  <NullProcessing>UnknownMember</NullProcessing>
                  <Source xsi:type="ColumnBinding" dwd:design-time-name="bb835fdf-892f-4306-8a39-d53daef7baf7">
                    <TableID>dbo_fact_payment</TableID>
                    <ColumnID>Order_Details_FK</ColumnID>
                  </Source>
                </KeyColumn>
              </KeyColumns>
              <Type>Granularity</Type>
            </Attribute>
          </Attributes>
        </Dimension>
        <Dimension xsi:type="RegularMeasureGroupDimension" dwd:design-time-name="860617dd-6c59-403a-8979-8b288717664f">
          <CubeDimensionID>Dim Payment Type</CubeDimensionID>
          <Attributes>
            <Attribute dwd:design-time-name="6c69ec1d-bb71-4108-825c-46dd9c08ed06">
              <AttributeID>Payment SK</AttributeID>
              <KeyColumns>
                <KeyColumn dwd:design-time-name="a039f2e5-23b8-4cc2-be71-5802b74d4b38">
                  <DataType>Integer</DataType>
                  <NullProcessing>UnknownMember</NullProcessing>
                  <Source xsi:type="ColumnBinding" dwd:design-time-name="5d54608a-1c2e-4612-896a-e6aef4155d97">
                    <TableID>dbo_fact_payment</TableID>
                    <ColumnID>Payment_Type_FK</ColumnID>
                  </Source>
                </KeyColumn>
              </KeyColumns>
              <Type>Granularity</Type>
            </Attribute>
          </Attributes>
        </Dimension>
      </Dimensions>
      <Partitions />
    </MeasureGroup>
  </MeasureGroups>
  <Source dwd:design-time-name="e6d353a3-8072-49fe-9c9c-7899fd452a3f">
    <DataSourceViewID>Payment DM</DataSourceViewID>
  </Source>
  <MdxScripts>
    <MdxScript dwd:design-time-name="cbc3df5d-65bc-4303-a4d7-e7cc498180da">
      <ID>MdxScript</ID>
      <Name>MdxScript</Name>
      <CreatedTimestamp>0001-01-01T00:00:00Z</CreatedTimestamp>
      <LastSchemaUpdate>0001-01-01T00:00:00Z</LastSchemaUpdate>
      <Commands>
        <Command>
          <Text>/*
The CALCULATE command controls the aggregation of leaf cells in the cube.
If the CALCULATE command is deleted or modified, the data within the cube is affected.
You should edit this command only if you manually specify how the cube is aggregated.
*/
CALCULATE; 
CREATE MEMBER CURRENTCUBE.[Measures].[No Canceled Orders]
 AS IIF(
    IsEmpty( ([Measures].[No Transactions], [Dim Order Details 1].[Order Status].&amp;[canceled]) ),
    0,
    ( [Measures].[No Transactions], [Dim Order Details 1].[Order Status].&amp;[canceled] )
), 
VISIBLE = 1  ; </Text>
        </Command>
      </Commands>
    </MdxScript>
  </MdxScripts>
</Cube>